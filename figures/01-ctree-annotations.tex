\documentclass[../slides]{subfiles}

\begin{document}
    \subfile{ctrees/01-survey.tex}
    \begin{tikzpicture}[overlay, remember picture]
        \begin{scope}[on background layer, every node/.style={fill=black!10, draw=black!40, rounded corners, inner sep=1pt, outer sep=0pt, blend mode=darken}]
            \node[visible on=<2>, fit=(pos)] {};
            \node[visible on=<3>, fit=(term0) (term5)] {};
            \node[visible on=<4>, fit=(wh) (prt) (sbar)] {};
        \end{scope}

        \begin{scope}[on background layer]
            \path[visible on=<5>, rounded corners, fill=black!10, draw=black!40, blend mode=darken]
            (vp2.north west) -- (wh.north west) --
            (pos-1-1.south west) -- (pos-1-1.south east) -- (term0.north east) --
            (np.north west) -- (np.north-|term3.west) -- (term4.north-|pos-1-5.west) -- (pos-1-5.south west) -- (pos-1-6.south east -| prt.east) -- (prt.north east) -- +(0,.3) -- (vp2.north east) -- cycle;
        \end{scope}
    \end{tikzpicture}
\end{document}

\documentclass[../slides]{subfiles}

\begin{document}
    \input{derivs/00-survey-lexderiv-commands.tex}

    \begin{tikzpicture}[outer sep=0px, inner sep=1pt]
        \node[text height=1cm, text width=8cm, visible on=<3->] (root) {\(\mathit{Root} \to \alt<-8>{[x_1\,\text{the}\,y_1\,x_2]\begin{bmatrix}\rootclause{}\end{bmatrix} (V_2, N)}{\rooteval{}}\)}
        [sibling distance=14em]
        child[visible on=<-8>] { node[visible on=<3->] (vp1) {\(V_2 \to \alt<-6>{[x_1, \text{was}\, x_2] \begin{bmatrix}\uppervclause{}\end{bmatrix} (V_2)}{\upperveval{}}\)}
            [sibling distance=6.5em]
            child[visible on=<-6>] { node (vp2) {\(V_2 \to \alt<-5>{[x_1, \text{carried}\, y_1] \begin{bmatrix}\lowervclause{}\end{bmatrix} (V^L, V^R)}{\lowerveval{}}\)}
                child[visible on=<3-5>] { node[text width=4cm] (term0) {\(V^L \to \alt<-3>{[\text{where}] \begin{bmatrix}\whclause{}\end{bmatrix}}{\wheval{}}\)}}
                child[visible on=<-5>] { node[visible on=<2->, text width=4cm, xshift=3em] (term5) {\(V^R \to \alt<-4>{[\text{out}] \begin{bmatrix}\prtclause{}\end{bmatrix}}{\prteval{}}\)}}}
            edge from parent[alt=<-2>{color=white}{color=black}]}
        child[visible on=<3-8>] { node[text width=4cm] (np) {\(N \to \alt<-7>{[\text{survey}] \begin{bmatrix}\nnclause{}\end{bmatrix}}{\nneval{}}\)}};
    \end{tikzpicture}
\end{document}
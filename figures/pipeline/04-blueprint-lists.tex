\documentclass[../../slides]{subfiles}


\begin{document}
    \begin{tikzpicture}[font=\small, node distance=1em, remember picture]
        \begin{scope}[every node/.style={obox, scale=0.55}]
            \node[fill=black!40] (rules1) {%
                \begin{tabular}{lll}
                    where & WH & \(V^L \to[\text{*}][\ldots]\)\\
                    the & DT & \(\mathit{Root} \to [x_1\,\text{*}\,y_1\,x_2][\ldots] (V_2, N)\)\\
                    survey&  NN & \(N \to [\text{*}] [\ldots]\)\\
                    was &VBD & \(V_2 \to [x_1, \text{*}\, x_2] [\ldots] (V_2)\)\\
                    carried &VBN& \(V_2 \to [x_1, \text{*}\, y_1] [\ldots](V^L, V^R)\)\\
                    out&PRT& \(V^R \to [\text{*}][\ldots]\)
                \end{tabular}};
            \node[below right=.3cm of rules1.north west, anchor=north west, fill=black!20] (rules2) {%
                \begin{tabular}{lll}
                    A &DT& \(N^L \to[\text{*}][\ldots]\)\\
                    hearing &NN & \(N \to [x_1\,\text{*}][\ldots] (N^L)\)\\
                    is &VBZ& \(\mathit{Root} \to [x_1 \text{*} x_2] [\ldots] (V_2)\)\\
                    scheduled &VBN & \(V_2 \to [x_1, \text{*}\, x_2] [\ldots] (V_2)\)\\
                    on &IN& \(V_2 \to [x_1, \text{*}\, y_1] [\ldots](V^L, V^R)\)\\
                    the &DT& \(V^R \to [\text{*}][\ldots]\) \\
                    issue &NN& \(V_2 \to [x_1, \text{*}\, y_1] [\ldots](V^L, V^R)\)\\
                    today &NN& \(V^R \to [\text{*}][\ldots]\)
                \end{tabular}};
            \node[below right=.3cm of rules2.south east, anchor=south east, fill=black!2] (rules3) {%
                \begin{tabular}{lll}
                    What &WP& \(V^L \to[\text{*}] [\ldots]\)\\
                    should &MD& \(S \to [x_1\,\text{*}\,y_1\,x_2][\ldots](V^L, S^R)\)\\
                    I &PRP& \(S^R \to [\text{*}][\ldots]\)\\
                    do &VB& \(V_2 \to [x_1\,\text{*}][\ldots] (V^L)\)\\
                    ? &\$.& \(\mathit{Root} \to [x_1\,\text{*}][\ldots] (S)\)
                \end{tabular}};
        \end{scope}
        \node[olabel, above=of rules1.north west, anchor=west] (ruleslab) {tokens+pos+blueprints\strut};
        \node[fit=(ruleslab) (rules1) (rules3), boundingbox] (rules) {};
    \end{tikzpicture}
\end{document}